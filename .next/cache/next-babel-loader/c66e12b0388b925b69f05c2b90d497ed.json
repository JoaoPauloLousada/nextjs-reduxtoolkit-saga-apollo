{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _extraReducers;\n\nimport { createAsyncThunk, createSelector, createSlice } from '@reduxjs/toolkit';\nexport var addNote = createAsyncThunk('notes/addNote', /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(newNote, thunkAPI) {\n    var response, error;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return fetch('/api/notes', {\n              method: 'POST',\n              body: JSON.stringify(newNote),\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            });\n\n          case 3:\n            response = _context.sent;\n\n            if (response.ok) {\n              _context.next = 9;\n              break;\n            }\n\n            _context.next = 7;\n            return response.json();\n\n          case 7:\n            error = _context.sent;\n            return _context.abrupt(\"return\", thunkAPI.rejectWithValue({\n              error: error.errors\n            }));\n\n          case 9:\n            return _context.abrupt(\"return\", response.json());\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](0);\n            return _context.abrupt(\"return\", thunkAPI.rejectWithValue({\n              error: _context.t0.message\n            }));\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 12]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nexport var loadNotes = createAsyncThunk('notes/loadNotes', /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_, thunkAPI) {\n    var response;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return fetch('/api/notes');\n\n          case 3:\n            response = _context2.sent;\n            return _context2.abrupt(\"return\", response.json());\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            return _context2.abrupt(\"return\", thunkAPI.rejectWithValue({\n              error: _context2.t0.message\n            }));\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 7]]);\n  }));\n\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nexport var editNote = createAsyncThunk('notes/editNote', /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(updates, thunkAPI) {\n    var id, title, content, response;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            id = updates.id, title = updates.title, content = updates.content;\n            _context3.prev = 1;\n            _context3.next = 4;\n            return fetch(\"/api/notes?noteId=\".concat(id), {\n              method: 'PUT',\n              body: JSON.stringify({\n                title: title,\n                content: content\n              }),\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            });\n\n          case 4:\n            response = _context3.sent;\n            return _context3.abrupt(\"return\", response.json());\n\n          case 8:\n            _context3.prev = 8;\n            _context3.t0 = _context3[\"catch\"](1);\n            return _context3.abrupt(\"return\", thunkAPI.rejectWithValue({\n              error: _context3.t0.message\n            }));\n\n          case 11:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[1, 8]]);\n  }));\n\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nexport var deleteNote = createAsyncThunk('notes/deleteNote', /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id, thunkAPI) {\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return fetch(\"/api/notes?noteId=\".concat(id), {\n              method: 'DELETE'\n            });\n\n          case 3:\n            return _context4.abrupt(\"return\", id);\n\n          case 6:\n            _context4.prev = 6;\n            _context4.t0 = _context4[\"catch\"](0);\n            return _context4.abrupt(\"return\", thunkAPI.rejectWithValue({\n              error: _context4.t0.message\n            }));\n\n          case 9:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[0, 6]]);\n  }));\n\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}());\nvar notesSlice = createSlice({\n  name: 'notes',\n  initialState: {\n    notes: [],\n    loading: 'idle'\n  },\n  reducers: {},\n  extraReducers: (_extraReducers = {}, _defineProperty(_extraReducers, addNote.pending, function (state) {\n    delete state.error;\n  }), _defineProperty(_extraReducers, addNote.fulfilled, function (state, action) {\n    state.notes.push(action.payload);\n  }), _defineProperty(_extraReducers, addNote.rejected, function (state, action) {\n    state.error = action.payload.error;\n  }), _defineProperty(_extraReducers, loadNotes.pending, function (state) {\n    state.notes = [];\n    state.loading = 'loading';\n  }), _defineProperty(_extraReducers, loadNotes.fulfilled, function (state, action) {\n    state.notes = action.payload;\n    state.loading = 'loaded';\n  }), _defineProperty(_extraReducers, loadNotes.rejected, function (state, action) {\n    state.loading = 'error';\n    state.error = action.payload.error;\n  }), _defineProperty(_extraReducers, editNote.pending, function (state, action) {\n    var note = state.notes.find(function (note) {\n      return note.id === action.meta.arg.id;\n    });\n    state.tempNote = Object.assign({}, note);\n    note.title = action.meta.arg.title || note.title;\n    note.content = action.meta.arg.content || note.content;\n  }), _defineProperty(_extraReducers, editNote.fulfilled, function (state, action) {\n    var note = state.notes.find(function (note) {\n      return note.id === action.payload.id;\n    });\n    delete state.tempNote;\n    Object.assign(note, action.payload);\n  }), _defineProperty(_extraReducers, editNote.rejected, function (state, action) {\n    var note = state.notes.find(function (note) {\n      return note.id === action.meta.arg.id;\n    });\n    state.error = action.payload.error || action.error.message;\n    Object.assign(note, state.tempNote);\n    delete state.tempNote;\n  }), _defineProperty(_extraReducers, deleteNote.pending, function (state, action) {\n    var position = state.notes.findIndex(function (note) {\n      return note.id === action.meta.arg;\n    });\n    state.backupNote = Object.assign({}, state.notes[position]);\n    state.backupPosition = position;\n    state.notes.splice(position, 1);\n  }), _defineProperty(_extraReducers, deleteNote.fulfilled, function (state) {\n    delete state.backupNote;\n    delete state.backupPosition;\n  }), _defineProperty(_extraReducers, deleteNote.rejected, function (state) {\n    state.notes.splice(state.backupPosition, 0, state.backupNote);\n    delete state.backupPosition;\n    delete state.backupNote;\n  }), _extraReducers)\n});\nexport var selectNotes = createSelector(function (state) {\n  return {\n    notes: state.notes.notes,\n    error: state.notes.error\n  };\n}, function (state) {\n  return state;\n});\nexport default notesSlice.reducer;","map":{"version":3,"sources":["/home/joao/Develop/tests/nextjs-reduxtoolkit-saga-apollo/nextjs-reduxtoolkit-saga-apollo/lib/slices/notesSlice.js"],"names":["createAsyncThunk","createSelector","createSlice","addNote","newNote","thunkAPI","fetch","method","body","JSON","stringify","headers","response","ok","json","error","rejectWithValue","errors","message","loadNotes","_","editNote","updates","id","title","content","deleteNote","notesSlice","name","initialState","notes","loading","reducers","extraReducers","pending","state","fulfilled","action","push","payload","rejected","note","find","meta","arg","tempNote","Object","assign","position","findIndex","backupNote","backupPosition","splice","selectNotes","reducer"],"mappings":"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","sourcesContent":["import { createAsyncThunk, createSelector, createSlice } from '@reduxjs/toolkit'\n\nexport const addNote = createAsyncThunk(\n  'notes/addNote',\n  async (newNote, thunkAPI) => {\n    try {\n      const response = await fetch('/api/notes', {\n        method: 'POST',\n        body: JSON.stringify(newNote),\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      })\n\n      if (!response.ok) {\n        const error = await response.json()\n\n        return thunkAPI.rejectWithValue({ error: error.errors })\n      }\n\n      return response.json()\n    } catch (error) {\n      return thunkAPI.rejectWithValue({ error: error.message })\n    }\n  }\n)\n\nexport const loadNotes = createAsyncThunk(\n  'notes/loadNotes',\n  async (_, thunkAPI) => {\n    try {\n      const response = await fetch('/api/notes')\n\n      return response.json()\n    } catch (error) {\n      return thunkAPI.rejectWithValue({ error: error.message })\n    }\n  }\n)\n\nexport const editNote = createAsyncThunk(\n  'notes/editNote',\n  async (updates, thunkAPI) => {\n    const { id, title, content } = updates\n\n    try {\n      const response = await fetch(`/api/notes?noteId=${id}`, {\n        method: 'PUT',\n        body: JSON.stringify({ title, content }),\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      })\n\n      return response.json()\n    } catch (error) {\n      return thunkAPI.rejectWithValue({ error: error.message })\n    }\n  }\n)\n\nexport const deleteNote = createAsyncThunk(\n  'notes/deleteNote',\n  async (id, thunkAPI) => {\n    try {\n      await fetch(`/api/notes?noteId=${id}`, { method: 'DELETE' })\n      return id\n    } catch (error) {\n      return thunkAPI.rejectWithValue({ error: error.message })\n    }\n  }\n)\n\nconst notesSlice = createSlice({\n  name: 'notes',\n  initialState: {\n    notes: [],\n    loading: 'idle',\n  },\n  reducers: {},\n  extraReducers: {\n    [addNote.pending]: (state) => {\n      delete state.error\n    },\n    [addNote.fulfilled]: (state, action) => {\n      state.notes.push(action.payload)\n    },\n    [addNote.rejected]: (state, action) => {\n      state.error = action.payload.error\n    },\n    [loadNotes.pending]: (state) => {\n      state.notes = []\n      state.loading = 'loading'\n    },\n    [loadNotes.fulfilled]: (state, action) => {\n      state.notes = action.payload\n      state.loading = 'loaded'\n    },\n    [loadNotes.rejected]: (state, action) => {\n      state.loading = 'error'\n      state.error = action.payload.error\n    },\n    [editNote.pending]: (state, action) => {\n      const note = state.notes.find((note) => note.id === action.meta.arg.id)\n      state.tempNote = Object.assign({}, note)\n      note.title = action.meta.arg.title || note.title\n      note.content = action.meta.arg.content || note.content\n    },\n    [editNote.fulfilled]: (state, action) => {\n      const note = state.notes.find((note) => note.id === action.payload.id)\n      delete state.tempNote\n      Object.assign(note, action.payload)\n    },\n    [editNote.rejected]: (state, action) => {\n      const note = state.notes.find((note) => note.id === action.meta.arg.id)\n      state.error = action.payload.error || action.error.message\n      Object.assign(note, state.tempNote)\n      delete state.tempNote\n    },\n    [deleteNote.pending]: (state, action) => {\n      const position = state.notes.findIndex(\n        (note) => note.id === action.meta.arg\n      )\n      state.backupNote = Object.assign({}, state.notes[position])\n      state.backupPosition = position\n      state.notes.splice(position, 1)\n    },\n    [deleteNote.fulfilled]: (state) => {\n      delete state.backupNote\n      delete state.backupPosition\n    },\n    [deleteNote.rejected]: (state) => {\n      state.notes.splice(state.backupPosition, 0, state.backupNote)\n      delete state.backupPosition\n      delete state.backupNote\n    },\n  },\n})\n\nexport const selectNotes = createSelector(\n  (state) => ({\n    notes: state.notes.notes,\n    error: state.notes.error,\n  }),\n  (state) => state\n)\n\nexport default notesSlice.reducer\n"]},"metadata":{},"sourceType":"module"}